Notebook[{
Cell[BoxData[{
 RowBox[{
  RowBox[{"numQubits", "=", "5"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseCardinalities", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{"1", ",", "3"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"dCardinalities", "=", 
    RowBox[{"{", 
     RowBox[{"1", ",", "1"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "Compute", " ", "all", " ", "base", " ", "hypergraphs", " ", "valid", " ", 
    "for", " ", "Pure", " ", "erasure", " ", "correcting", " ", "codes"}], 
   " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseHs", "=", 
   RowBox[{"{", 
    RowBox[{"{", "}"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"For", "[", 
   RowBox[{
    RowBox[{"qubit", "=", "1"}], ",", 
    RowBox[{"qubit", "\[LessEqual]", "numQubits"}], ",", 
    RowBox[{"qubit", "++"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"newEdges", "=", 
      RowBox[{"Subsets", "[", 
       RowBox[{
        RowBox[{"Range", "[", 
         RowBox[{"qubit", ",", "numQubits"}], "]"}], ",", 
        "baseCardinalities"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"newEdges", "=", 
      RowBox[{"Select", "[", 
       RowBox[{"newEdges", ",", 
        RowBox[{
         RowBox[{"MemberQ", "[", 
          RowBox[{"#", ",", "qubit"}], "]"}], "&"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"newEdgeHypergraphs", "=", 
      RowBox[{"Subsets", "[", "newEdges", "]"}]}], ";", "\[IndentingNewLine]",
      "\[IndentingNewLine]", 
     RowBox[{"baseHsData", "=", 
      RowBox[{
       RowBox[{"Reap", "[", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"For", "[", 
          RowBox[{
           RowBox[{"i", "=", "1"}], ",", 
           RowBox[{"i", "\[LessEqual]", 
            RowBox[{"Length", "[", "baseHs", "]"}]}], ",", 
           RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"For", "[", 
             RowBox[{
              RowBox[{"j", "=", "1"}], ",", 
              RowBox[{"j", "\[LessEqual]", 
               RowBox[{"Length", "[", "newEdgeHypergraphs", "]"}]}], ",", 
              RowBox[{"j", "++"}], ",", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"Sow", "[", 
                RowBox[{"Sort", "[", 
                 RowBox[{"Union", "[", 
                  RowBox[{
                   RowBox[{"baseHs", "[", 
                    RowBox[{"[", "i", "]"}], "]"}], ",", 
                   RowBox[{"newEdgeHypergraphs", "[", 
                    RowBox[{"[", "j", "]"}], "]"}]}], " ", "]"}], "]"}], 
                "]"}], ";"}]}], "\[IndentingNewLine]", "]"}], ";"}]}], 
          "\[IndentingNewLine]", "]"}], ";"}], "\[IndentingNewLine]", "]"}], 
       "[", 
       RowBox[{"[", "2", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Length", "[", "baseHsData", "]"}], ">", "0"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"baseHs", "=", 
         RowBox[{"baseHsData", "[", 
          RowBox[{"[", "1", "]"}], "]"}]}], ";"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"baseHs", "=", 
         RowBox[{"{", "}"}]}], ";"}]}], "\[IndentingNewLine]", "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"baseHs", "=", 
      RowBox[{"Select", "[", 
       RowBox[{"baseHs", ",", 
        RowBox[{
         RowBox[{"isOrthogonal", "[", 
          RowBox[{
           RowBox[{"compactProjection", "[", 
            RowBox[{"#", ",", "qubit", ",", "numQubits"}], "]"}], ",", 
           RowBox[{"numQubits", "-", "1"}]}], "]"}], "&"}]}], "]"}]}], 
     ";"}]}], "\[IndentingNewLine]", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Print", "[", 
    RowBox[{"\"\<Base hypergraphs: \>\"", ",", 
     RowBox[{"Length", "[", "baseHs", "]"}]}], "]"}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "Memorize", " ", "base", " ", "hypegraphs", " ", "in", " ", "a", " ", 
    "map", " ", "for", " ", "easy", " ", "access"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Clear", "[", "isValidBase", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"For", "[", 
    RowBox[{
     RowBox[{"i", "=", "1"}], ",", 
     RowBox[{"i", "\[LessEqual]", 
      RowBox[{"Length", "[", "baseHs", "]"}]}], ",", 
     RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"isValidBase", "[", 
        RowBox[{"baseHs", "[", 
         RowBox[{"[", "i", "]"}], "]"}], "]"}], "=", "True"}], ";"}]}], 
    "\[IndentingNewLine]", "]"}], ";"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"Filter", " ", "base", " ", "hypergraphs"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"filteredBaseHs", "=", 
   RowBox[{"Select", "[", 
    RowBox[{"baseHs", ",", 
     RowBox[{
      RowBox[{
       RowBox[{"Min", "[", 
        RowBox[{"Map", "[", 
         RowBox[{"Length", ",", "#"}], "]"}], "]"}], "\[GreaterEqual]", " ", 
       "3"}], "&"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Print", "[", 
    RowBox[{"\"\<Filtered base hypergraphs: \>\"", ",", 
     RowBox[{"Length", "[", "filteredBaseHs", "]"}]}], "]"}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "Compute", " ", "all", " ", "difference", " ", "hypergraphs", " ", "valid",
     " ", "for", " ", "erasure", " ", "correcting", " ", "codes"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"allEdges", "=", 
   RowBox[{"Subsets", "[", 
    RowBox[{
     RowBox[{"Range", "[", 
      RowBox[{"1", ",", "numQubits"}], "]"}], ",", "dCardinalities"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"dHs", "=", 
   RowBox[{"Subsets", "[", "allEdges", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"dHs", "=", 
   RowBox[{"Select", "[", 
    RowBox[{"dHs", ",", 
     RowBox[{
      RowBox[{"isOrthogonal", "[", 
       RowBox[{"#", ",", "numQubits"}], "]"}], "&"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"For", "[", 
   RowBox[{
    RowBox[{"i", "=", "1"}], ",", 
    RowBox[{"i", "\[LessEqual]", " ", "numQubits"}], ",", " ", 
    RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"dHs", "=", 
      RowBox[{"Select", "[", 
       RowBox[{"dHs", ",", 
        RowBox[{
         RowBox[{"areOrthogonal", "[", 
          RowBox[{"#", ",", 
           RowBox[{"{", 
            RowBox[{"{", "i", "}"}], "}"}], ",", "numQubits"}], "]"}], 
         "&"}]}], "]"}]}], ";"}]}], "\[IndentingNewLine]", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Print", "[", 
    RowBox[{"\"\<Difference hypergraphs: \>\"", ",", 
     RowBox[{"Length", "[", "dHs", "]"}]}], "]"}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "Get", " ", "all", " ", "2", " ", "dimensional", " ", "pure", " ", 
    "erasure", " ", "correcting", " ", "codes"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ECCsData", "=", 
   RowBox[{
    RowBox[{"Reap", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"For", "[", 
       RowBox[{
        RowBox[{"i", "=", "1"}], ",", 
        RowBox[{"i", "\[LessEqual]", 
         RowBox[{"Length", "[", "filteredBaseHs", "]"}]}], ",", 
        RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"For", "[", 
          RowBox[{
           RowBox[{"j", "=", "1"}], ",", 
           RowBox[{"j", "\[LessEqual]", " ", 
            RowBox[{"Length", "[", "dHs", "]"}]}], ",", 
           RowBox[{"j", "++"}], ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"isValidBase", "[", 
                RowBox[{"overlay", "[", 
                 RowBox[{
                  RowBox[{"filteredBaseHs", "[", 
                   RowBox[{"[", "i", "]"}], "]"}], ",", 
                  RowBox[{"dHs", "[", 
                   RowBox[{"[", "j", "]"}], "]"}]}], "]"}], "]"}], "\[Equal]",
                "True"}], ",", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"Flag", "=", "1"}], ";", "\[IndentingNewLine]", 
               RowBox[{"For", " ", "[", 
                RowBox[{
                 RowBox[{"k", "=", "1"}], ",", 
                 RowBox[{"k", "\[LessEqual]", " ", "numQubits"}], ",", 
                 RowBox[{"k", "++"}], ",", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"undecoratedProjection", "=", 
                   RowBox[{"overlay", "[", 
                    RowBox[{
                    RowBox[{"projection", "[", 
                    RowBox[{
                    RowBox[{"filteredBaseHs", "[", 
                    RowBox[{"[", "i", "]"}], "]"}], ",", "k"}], "]"}], ",", 
                    RowBox[{"dHs", "[", 
                    RowBox[{"[", "j", "]"}], "]"}]}], "]"}]}], ";", 
                  "\[IndentingNewLine]", 
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{"isOrthogonal", "[", 
                    RowBox[{"undecoratedProjection", ",", "numQubits"}], 
                    "]"}], ",", "\[IndentingNewLine]", ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"Flag", "=", "0"}], ";", "\[IndentingNewLine]", 
                    RowBox[{"Break", "[", "]"}], ";"}]}], 
                   "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{"areOrthogonal", "[", 
                    RowBox[{"undecoratedProjection", ",", 
                    RowBox[{"{", 
                    RowBox[{"{", "k", "}"}], "}"}], ",", "numQubits"}], "]"}],
                     ",", "\[IndentingNewLine]", ",", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"Flag", "=", "0"}], ";", "\[IndentingNewLine]", 
                    RowBox[{"Break", "[", "]"}], ";"}]}], 
                   "\[IndentingNewLine]", "]"}], ";"}]}], 
                "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"Flag", "\[Equal]", "1"}], ",", 
                 "\[IndentingNewLine]", 
                 RowBox[{"Sow", "[", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"filteredBaseHs", "[", 
                    RowBox[{"[", "i", "]"}], "]"}], ",", 
                    RowBox[{"dHs", "[", 
                    RowBox[{"[", "j", "]"}], "]"}]}], "}"}], "]"}]}], 
                "\[IndentingNewLine]", "]"}], ";"}]}], "\[IndentingNewLine]", 
             "]"}], ";"}]}], "\[IndentingNewLine]", "]"}], ";"}]}], 
       "\[IndentingNewLine]", "]"}], ";"}], "\[IndentingNewLine]", "]"}], "[", 
    RowBox[{"[", "2", "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"Length", "[", "ECCsData", "]"}], ">", "0"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"ECCs", "=", 
      RowBox[{"ECCsData", "[", 
       RowBox[{"[", "1", "]"}], "]"}]}], ";"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"ECCs", "=", 
      RowBox[{"{", "}"}]}], ";"}]}], "\[IndentingNewLine]", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Print", "[", 
   RowBox[{"\"\<Erasure correcting codes: \>\"", ",", 
    RowBox[{"Length", "[", "ECCs", "]"}]}], "]"}], ";"}]}], "Input"]
},
WindowSize->{1225, 756},
WindowMargins->{{-2, Automatic}, {Automatic, 0}},
PrivateNotebookOptions->{"FileOutlineCache"->False},
TrackCellChangeTimes->False,
FrontEndVersion->"8.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (October 5, \
2011)",
StyleDefinitions->"Default.nb",
PrivateNotebookOptions -> {
 "VersionedStylesheet" -> {"Default.nb"[8.] -> False}}
]

